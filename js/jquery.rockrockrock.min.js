!function($){$.fn.rockrockrock=function(e){var i=$.extend({prefix:"rock",current:0,ogg:!1,fadeTempo:500},e),n=document.createElement("audio"),t=document.createElement("source");if(document.body.appendChild(n),n.appendChild(t),i.ogg){var c=document.createElement("source");n.appendChild(c)}var o=this,r=o.children(":eq("+i.current+")"),a=$("."+i.prefix+"--playing"),u=$("."+i.prefix+"--play"),d=$("."+i.prefix+"--pause"),f=$("."+i.prefix+"--next"),l=$("."+i.prefix+"--prev"),s=$("."+i.prefix+"--mute"),p=$("."+i.prefix+"--unmute"),h=$("#log"),m=function(){n.play(),$(u).hide(),$(d).show()},v=function(){n.pause(),$(d).hide(),$(u).show()},g=function(){var e=$(".is-active").next();e.length||(e=$(".is-active").siblings().first()),T(e)},x=function(){var e=$(".is-active").prev();e.length||(e=$(".is-active").siblings().last()),T(e)},k=function(){s.hide(),p.show(),$(n).animate({volume:0},i.fadeTempo,function(){n.muted=!0})},y=function(){p.hide(),s.show(),n.muted=!1,$(n).animate({volume:1},i.fadeTempo)},C=function(){return n.paused?0===n.currentTime?"stopped":"paused":"playing"},w=function(e,i,n){e===i&&"playing"===n?v():m()},T=function(e){var t=$(e).find("."+i.prefix+"--songtitle").text(),c=$(e).find("a").attr("href"),r=$(e).data("metadata");if(o.children().removeClass("is-active"),$(e).addClass("is-active"),a.find("."+i.prefix+"--songtitle").text(t),a.find("."+i.prefix+"--metadata").text(r),$(n).children("source:eq(0)").attr({src:c,type:"audio/mp3"}),i.ogg){var u=c.slice(0,c.length-3)+"ogg";$(n).children("source:eq(1)").attr({src:u,type:"audio/ogg"})}n.load()};return o.on("click","li",function(e){e.preventDefault();var i=C(),t=$(n).children("source").attr("src");T(this);var c=$(n).children("source").attr("src");w(c,t,i)}),u.on("click",function(){m()}),d.on("click",function(){v()}),f.on("click",function(){g(),m()}),l.on("click",function(){x(),m()}),s.on("click",function(){k()}),p.on("click",function(){y()}),n.volume=1,T(r),$(d).hide(),$(p).hide(),this}}(jQuery);