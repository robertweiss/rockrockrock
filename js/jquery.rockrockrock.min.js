!function($){$.fn.rockrockrock=function(e){var i=$.extend({prefix:"rock",current:0,ogg:!1,fadeTempo:500},e),n=document.createElement("audio"),t=document.createElement("source");if(document.body.appendChild(n),n.appendChild(t),i.ogg){var o=document.createElement("source");n.appendChild(o)}var c=this,r=c.children(":eq("+i.current+")"),a=$("."+i.prefix+"--playing"),u=$("."+i.prefix+"--play"),d=$("."+i.prefix+"--pause"),s=$("."+i.prefix+"--next"),f=$("."+i.prefix+"--prev"),l=$("."+i.prefix+"--mute"),p=$("."+i.prefix+"--unmute"),h=$("."+i.prefix+"--timerange"),m=$("."+i.prefix+"--timeposition"),g=$("#log"),v=function(){n.play(),$(u).hide(),$(d).show()},x=function(){n.pause(),$(d).hide(),$(u).show()},k=function(){var e=$(".is-active").next();e.length||(e=$(".is-active").siblings().first()),q(e)},y=function(){var e=$(".is-active").prev();e.length||(e=$(".is-active").siblings().last()),q(e)},w=function(){l.hide(),p.show(),$(n).animate({volume:0},i.fadeTempo,function(){n.muted=!0})},C=function(){p.hide(),l.show(),n.muted=!1,$(n).animate({volume:1},i.fadeTempo)},T=function(){return n.paused?0===n.currentTime?"stopped":"paused":"playing"},b=function(e,i,n){e===i&&"playing"===n?x():v()},q=function(e){var t=$(e).find("."+i.prefix+"--songtitle").text(),o=$(e).find("a").attr("href"),r=$(e).data("metadata");if(c.children().removeClass("is-active"),$(e).addClass("is-active"),a.find("."+i.prefix+"--songtitle").text(t),a.find("."+i.prefix+"--metadata").text(r),$(n).children("source:eq(0)").attr({src:o,type:"audio/mp3"}),i.ogg){var u=o.slice(0,o.length-3)+"ogg";$(n).children("source:eq(1)").attr({src:u,type:"audio/ogg"})}n.load()};return c.on("click","li",function(e){e.preventDefault();var i=T(),t=$(n).children("source").attr("src");q(this);var o=$(n).children("source").attr("src");b(o,t,i)}),$(n).on("seeking",function(){h.addClass("is-seeking")}).on("seeked",function(){h.removeClass("is-seeking")}),$(n).on("timeupdate",function(){var e=n.currentTime/n.duration*100;m.css("width",e+"%")}),$(h).on("click",function(e){var i=e.pageX-$(this).position().left,t=$(this).width(),o=i/t*100;n.currentTime=o/100*n.duration,m.css("width",o+"%")}),$("body").keydown(function(e){32===e.keyCode&&(b("","",T()),e.preventDefault())}),$(n).on("ended",function(){k(),v()}),u.on("click",function(){v()}),d.on("click",function(){x()}),s.on("click",function(){k(),v()}),f.on("click",function(){y(),v()}),l.on("click",function(){w()}),p.on("click",function(){C()}),n.volume=1,q(r),$(d).hide(),$(p).hide(),this}}(jQuery);