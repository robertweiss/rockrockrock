!function($){$.fn.rockrockrock=function(e){var i=$.extend({prefix:"rock",current:0,ogg:!1,fadeTempo:500},e),n=document.createElement("audio"),t=document.createElement("source");document.body.appendChild(n),n.appendChild(t),i.ogg&&console.log("ogg!");var c=this,o=$("."+i.prefix+"--play"),a=$("."+i.prefix+"--pause"),r=$("."+i.prefix+"--next"),u=$("."+i.prefix+"--prev"),f=$("."+i.prefix+"--mute"),d=$("."+i.prefix+"--unmute"),l=$("."+i.prefix+"--playing"),s=c.children(":eq("+i.current+")"),p=function(){return n.paused?0===n.currentTime?"stopped":"paused":"playing"},m=function(){n.play(),$(o).hide(),$(a).show()},h=function(){n.pause(),$(a).hide(),$(o).show()},v=function(){f.hide(),d.show(),$(n).animate({volume:0},i.fadeTempo,function(){n.muted=!0})},x=function(){d.hide(),f.show(),n.muted=!1,$(n).animate({volume:1},i.fadeTempo)},g=function(e,i,n){e===i&&"playing"===n?h():m()},k=function(e){var t=$(e).find("."+i.prefix+"--songtitle").text(),o=$(e).find("a").attr("href"),a=$(e).data("metadata");c.children().removeClass("is-active"),$(e).addClass("is-active"),l.find("."+i.prefix+"--songtitle").text(t),l.find("."+i.prefix+"--metadata").text(a),$(n).children("source:eq(0)").attr({src:o,type:"audio/mp3"}),n.load()};return c.on("click","li",function(e){e.preventDefault();var i=p(),t=$(n).attr("src");k(this),g($(n).attr("src"),t,i)}),o.on("click",function(){m()}),a.on("click",function(){h()}),r.on("click",function(){var e=$(".is-active").next();k(e.length?e:$(".is-active").siblings().first()),m()}),u.on("click",function(){var e=$(".is-active").prev();k(e.length?e:$(".is-active").siblings().last()),m()}),f.on("click",function(){v()}),d.on("click",function(){x()}),n.volume=1,k(s),$(a).hide(),$(d).hide(),this}}(jQuery);